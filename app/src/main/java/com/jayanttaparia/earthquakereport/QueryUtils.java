package com.jayanttaparia.earthquakereport;

import android.util.Log;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;

public final class QueryUtils {

    private static final String SAMPLE_JSON_RESPONSE = "{\"type\":\"FeatureCollection\",\"metadata\":{\"generated\":1555585114000,\"url\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=2018-01-01&endtime=2018-03-31&minmag=1.9&limit=25\",\"title\":\"USGS Earthquakes\",\"status\":200,\"api\":\"1.8.1\",\"limit\":25,\"offset\":1,\"count\":25},\"features\":[{\"type\":\"Feature\",\"properties\":{\"mag\":4.5,\"place\":\"78km SSE of Hihifo, Tonga\",\"time\":1522454360400,\"updated\":1529703137040,\"tz\":-720,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvjz\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvjz&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":312,\"net\":\"us\",\"code\":\"2000dvjz\",\"ids\":\",us2000dvjz,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":3.159,\"rms\":0.61,\"gap\":87,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 4.5 - 78km SSE of Hihifo, Tonga\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-173.4893,-16.6175,14.71]},\"id\":\"us2000dvjz\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":3.2,\"place\":\"297km ESE of Kodiak, Alaska\",\"time\":1522453352990,\"updated\":1529703137040,\"tz\":-600,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvay\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvay&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":158,\"net\":\"us\",\"code\":\"2000dvay\",\"ids\":\",ak18854570,us2000dvay,\",\"sources\":\",ak,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":2.755,\"rms\":0.82,\"gap\":221,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 3.2 - 297km ESE of Kodiak, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-148.3721,56.2729,20.82]},\"id\":\"us2000dvay\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":1.94,\"place\":\"4km NW of The Geysers, CA\",\"time\":1522452494270,\"updated\":1523327822090,\"tz\":-480,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/nc72991975\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=nc72991975&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":58,\"net\":\"nc\",\"code\":\"72991975\",\"ids\":\",nc72991975,\",\"sources\":\",nc,\",\"types\":\",focal-mechanism,geoserve,nearby-cities,origin,phase-data,scitech-link,\",\"nst\":61,\"dmin\":0.00433,\"rms\":0.07,\"gap\":22,\"magType\":\"md\",\"type\":\"earthquake\",\"title\":\"M 1.9 - 4km NW of The Geysers, CA\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-122.7898333,38.8086667,3.22]},\"id\":\"nc72991975\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":4.3,\"place\":\"143km SSW of Kokopo, Papua New Guinea\",\"time\":1522452288530,\"updated\":1529703137040,\"tz\":600,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvk1\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvk1&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":284,\"net\":\"us\",\"code\":\"2000dvk1\",\"ids\":\",us2000dvk1,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":1.397,\"rms\":0.88,\"gap\":161,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 4.3 - 143km SSW of Kokopo, Papua New Guinea\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[151.7022,-5.519,10]},\"id\":\"us2000dvk1\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":4.6,\"place\":\"102km SE of Ndoi Island, Fiji\",\"time\":1522452251740,\"updated\":1529703137040,\"tz\":-720,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us1000dbqu\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us1000dbqu&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":326,\"net\":\"us\",\"code\":\"1000dbqu\",\"ids\":\",us1000dbqu,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":5.123,\"rms\":0.84,\"gap\":86,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 4.6 - 102km SE of Ndoi Island, Fiji\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-178.1129,-21.3952,456.23]},\"id\":\"us1000dbqu\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":3.7,\"place\":\"9km ESE of Roghun, Tajikistan\",\"time\":1522450732340,\"updated\":1529703137040,\"tz\":300,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us1000dbqa\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us1000dbqa&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":211,\"net\":\"us\",\"code\":\"1000dbqa\",\"ids\":\",us1000dbqa,\",\"sources\":\",us,\",\"types\":\",geoserve,moment-tensor,origin,phase-data,\",\"nst\":null,\"dmin\":0.371,\"rms\":0.73,\"gap\":60,\"magType\":\"mwr\",\"type\":\"earthquake\",\"title\":\"M 3.7 - 9km ESE of Roghun, Tajikistan\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[69.9675,38.7474,10]},\"id\":\"us1000dbqa\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.5,\"place\":\"280km S of Cape Yakataga, Alaska\",\"time\":1522450214660,\"updated\":1529703137040,\"tz\":-600,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvax\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvax&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":96,\"net\":\"us\",\"code\":\"2000dvax\",\"ids\":\",ak18853240,us2000dvax,\",\"sources\":\",ak,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":2.512,\"rms\":0.54,\"gap\":200,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.5 - 280km S of Cape Yakataga, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-142.8673,57.5557,10]},\"id\":\"us2000dvax\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":4.1,\"place\":\"39km SSW of Saiha, India\",\"time\":1522449207350,\"updated\":1529703137040,\"tz\":330,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvjw\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvjw&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":259,\"net\":\"us\",\"code\":\"2000dvjw\",\"ids\":\",us2000dvjw,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":0.876,\"rms\":0.61,\"gap\":158,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 4.1 - 39km SSW of Saiha, India\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[92.8036,22.1644,32.09]},\"id\":\"us2000dvjw\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":3.43,\"place\":\"40km NE of Road Town, British Virgin Islands\",\"time\":1522448777230,\"updated\":1529703137040,\"tz\":-240,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/pr2018089009\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=pr2018089009&format=geojson\",\"felt\":0,\"cdi\":1,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":181,\"net\":\"pr\",\"code\":\"2018089009\",\"ids\":\",pr2018089009,us1000dbsi,\",\"sources\":\",pr,us,\",\"types\":\",dyfi,geoserve,origin,phase-data,\",\"nst\":11,\"dmin\":1.4666,\"rms\":0.2,\"gap\":231,\"magType\":\"md\",\"type\":\"earthquake\",\"title\":\"M 3.4 - 40km NE of Road Town, British Virgin Islands\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-64.3948,18.6895,34]},\"id\":\"pr2018089009\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.9,\"place\":\"247km SE of Kodiak, Alaska\",\"time\":1522448716520,\"updated\":1529703137040,\"tz\":-600,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvaw\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvaw&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":129,\"net\":\"us\",\"code\":\"2000dvaw\",\"ids\":\",ak18995458,us2000dvaw,\",\"sources\":\",ak,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":2.202,\"rms\":0.63,\"gap\":229,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.9 - 247km SE of Kodiak, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-149.9675,56.0076,20.46]},\"id\":\"us2000dvaw\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":3,\"place\":\"229km SE of Kodiak, Alaska\",\"time\":1522447296680,\"updated\":1529703137040,\"tz\":-600,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvav\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvav&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":138,\"net\":\"us\",\"code\":\"2000dvav\",\"ids\":\",ak18995457,us2000dvav,\",\"sources\":\",ak,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":2.102,\"rms\":0.59,\"gap\":242,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 3.0 - 229km SE of Kodiak, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-149.9206,56.2354,21.43]},\"id\":\"us2000dvav\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.1,\"place\":\"55km E of Sutton-Alpine, Alaska\",\"time\":1522445928250,\"updated\":1522446080982,\"tz\":-540,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/ak18850708\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=ak18850708&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"automatic\",\"tsunami\":0,\"sig\":68,\"net\":\"ak\",\"code\":\"18850708\",\"ids\":\",ak18850708,\",\"sources\":\",ak,\",\"types\":\",geoserve,origin,\",\"nst\":null,\"dmin\":null,\"rms\":1.09,\"gap\":null,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.1 - 55km E of Sutton-Alpine, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-147.7986,61.7893,10.8]},\"id\":\"ak18850708\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.6,\"place\":\"14km NNW of Willow, Alaska\",\"time\":1522445914318,\"updated\":1529703137040,\"tz\":-540,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/ak18850703\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=ak18850703&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":104,\"net\":\"ak\",\"code\":\"18850703\",\"ids\":\",ak18850703,us1000dbns,\",\"sources\":\",ak,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":null,\"rms\":0.48,\"gap\":null,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.6 - 14km NNW of Willow, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-150.0503,61.7838,35.8]},\"id\":\"ak18850703\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.03,\"place\":\"7km S of Princeton, Canada\",\"time\":1522444937980,\"updated\":1522450845410,\"tz\":-480,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/uw61359037\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=uw61359037&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":63,\"net\":\"uw\",\"code\":\"61359037\",\"ids\":\",uw61359037,\",\"sources\":\",uw,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":12,\"dmin\":0.5882,\"rms\":0.29,\"gap\":185,\"magType\":\"ml\",\"type\":\"explosion\",\"title\":\"M 2.0 Explosion - 7km S of Princeton, Canada\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-120.5193333,49.3878333,-0.37]},\"id\":\"uw61359037\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.78,\"place\":\"74km NNE of Punta Cana, Dominican Republic\",\"time\":1522444042440,\"updated\":1529703136040,\"tz\":-300,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/pr2018089010\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=pr2018089010&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":119,\"net\":\"pr\",\"code\":\"2018089010\",\"ids\":\",pr2018089010,us1000dbsh,\",\"sources\":\",pr,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":6,\"dmin\":0.9385,\"rms\":0.27,\"gap\":242,\"magType\":\"md\",\"type\":\"earthquake\",\"title\":\"M 2.8 - 74km NNE of Punta Cana, Dominican Republic\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-67.968,19.3565,30]},\"id\":\"pr2018089010\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.8,\"place\":\"20km NNE of Sheridan, Wyoming\",\"time\":1522444038200,\"updated\":1529703136040,\"tz\":-420,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvk3\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvk3&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":121,\"net\":\"us\",\"code\":\"2000dvk3\",\"ids\":\",us2000dvk3,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":1.731,\"rms\":0.87,\"gap\":98,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.8 - 20km NNE of Sheridan, Wyoming\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-106.8353,44.9591,5]},\"id\":\"us2000dvk3\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.8,\"place\":\"264km ESE of Kodiak, Alaska\",\"time\":1522443768860,\"updated\":1529703136040,\"tz\":-600,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvau\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvau&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":121,\"net\":\"us\",\"code\":\"2000dvau\",\"ids\":\",ak18995454,us2000dvau,\",\"sources\":\",ak,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":2.459,\"rms\":0.38,\"gap\":252,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.8 - 264km ESE of Kodiak, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-148.7102,56.5222,20.65]},\"id\":\"us2000dvau\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.8,\"place\":\"1km NNW of Cushing, Oklahoma\",\"time\":1522443473400,\"updated\":1529703136040,\"tz\":-360,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us1000dbmn\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us1000dbmn&format=geojson\",\"felt\":2,\"cdi\":2,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":121,\"net\":\"us\",\"code\":\"1000dbmn\",\"ids\":\",us1000dbmn,\",\"sources\":\",us,\",\"types\":\",dyfi,geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":null,\"rms\":0.52,\"gap\":58,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.8 - 1km NNW of Cushing, Oklahoma\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-96.7785,35.9991,5.882]},\"id\":\"us1000dbmn\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.2,\"place\":\"26km SW of Cheney, Washington\",\"time\":1522442812810,\"updated\":1522446269520,\"tz\":-480,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/uw61359017\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=uw61359017&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":74,\"net\":\"uw\",\"code\":\"61359017\",\"ids\":\",uw61359017,\",\"sources\":\",uw,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":10,\"dmin\":0.5738,\"rms\":0.68,\"gap\":207,\"magType\":\"ml\",\"type\":\"explosion\",\"title\":\"M 2.2 Explosion - 26km SW of Cheney, Washington\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-117.8195,47.3166667,-0.46]},\"id\":\"uw61359017\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":3.21,\"place\":\"61km S of La Romana, Dominican Republic\",\"time\":1522442302970,\"updated\":1529703136040,\"tz\":-300,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/pr2018089008\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=pr2018089008&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":159,\"net\":\"pr\",\"code\":\"2018089008\",\"ids\":\",pr2018089008,us1000dbsg,\",\"sources\":\",pr,us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":11,\"dmin\":0.6107,\"rms\":0.05,\"gap\":325,\"magType\":\"md\",\"type\":\"earthquake\",\"title\":\"M 3.2 - 61km S of La Romana, Dominican Republic\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-68.7958,18.0653,147]},\"id\":\"pr2018089008\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.5,\"place\":\"107km SSW of Fort McPherson, Canada\",\"time\":1522440906526,\"updated\":1522973874207,\"tz\":-480,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/ak18849351\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=ak18849351&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":96,\"net\":\"ak\",\"code\":\"18849351\",\"ids\":\",ak18849351,\",\"sources\":\",ak,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":null,\"rms\":0.49,\"gap\":null,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.5 - 107km SSW of Fort McPherson, Canada\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-135.8237,66.5435,11.8]},\"id\":\"ak18849351\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":4.4,\"place\":\"198km NW of Saumlaki, Indonesia\",\"time\":1522440363150,\"updated\":1529703136040,\"tz\":540,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us1000dblv\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us1000dblv&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":298,\"net\":\"us\",\"code\":\"1000dblv\",\"ids\":\",us1000dblv,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":1.792,\"rms\":1.22,\"gap\":90,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 4.4 - 198km NW of Saumlaki, Indonesia\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[130.1082,-6.6252,168.53]},\"id\":\"us1000dblv\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":4.5,\"place\":\"67km SE of Manakara, Madagascar\",\"time\":1522440104820,\"updated\":1529703136040,\"tz\":180,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us2000dvjr\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us2000dvjr&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":312,\"net\":\"us\",\"code\":\"2000dvjr\",\"ids\":\",us2000dvjr,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":1.704,\"rms\":0.88,\"gap\":100,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 4.5 - 67km SE of Manakara, Madagascar\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[48.4968,-22.5535,15.6]},\"id\":\"us2000dvjr\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":2.2,\"place\":\"110km NNE of Petersburg, Alaska\",\"time\":1522439910901,\"updated\":1522973873650,\"tz\":-480,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/ak18849326\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=ak18849326&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":74,\"net\":\"ak\",\"code\":\"18849326\",\"ids\":\",ak18849326,\",\"sources\":\",ak,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":null,\"rms\":0.44,\"gap\":null,\"magType\":\"ml\",\"type\":\"earthquake\",\"title\":\"M 2.2 - 110km NNE of Petersburg, Alaska\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[-132.468,57.7682,17.5]},\"id\":\"ak18849326\"},\n" +
            "{\"type\":\"Feature\",\"properties\":{\"mag\":4.4,\"place\":\"130km NE of Aksu, China\",\"time\":1522437520390,\"updated\":1529703136040,\"tz\":480,\"url\":\"https://earthquake.usgs.gov/earthquakes/eventpage/us1000dbkx\",\"detail\":\"https://earthquake.usgs.gov/fdsnws/event/1/query?eventid=us1000dbkx&format=geojson\",\"felt\":null,\"cdi\":null,\"mmi\":null,\"alert\":null,\"status\":\"reviewed\",\"tsunami\":0,\"sig\":298,\"net\":\"us\",\"code\":\"1000dbkx\",\"ids\":\",us1000dbkx,\",\"sources\":\",us,\",\"types\":\",geoserve,origin,phase-data,\",\"nst\":null,\"dmin\":2.556,\"rms\":0.83,\"gap\":59,\"magType\":\"mb\",\"type\":\"earthquake\",\"title\":\"M 4.4 - 130km NE of Aksu, China\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[81.1987,42.0669,10]},\"id\":\"us1000dbkx\"}],\"bbox\":[-178.1129,-22.5535,-0.46,151.7022,66.5435,456.23]}";

    private QueryUtils(){
    }

    public static ArrayList<Earthquake> extractEarthquakes(){

        ArrayList<Earthquake> earthquakes = new ArrayList<>();

        try {
            JSONObject baseJsonResponse = new JSONObject(SAMPLE_JSON_RESPONSE);

            JSONArray earthquakeArray = baseJsonResponse.getJSONArray("features");

            for(int i=0; i<earthquakeArray.length(); i++){
                JSONObject currentEarthquake = earthquakeArray.getJSONObject(i);
                JSONObject properties = currentEarthquake.getJSONObject("properties");
                double magnitude = properties.getDouble("mag");
                String location = properties.getString("place");
                Long time = properties.getLong("time");
                String url = properties.getString("url");

                Earthquake earthquake = new Earthquake(magnitude,location,time,url);
                earthquakes.add(earthquake);

            }

        } catch (JSONException e) {
            e.printStackTrace();
            Log.e("QueryUtils", "Problem parsing the earthquake JSON results", e);

        }

        return earthquakes;
    }

}
